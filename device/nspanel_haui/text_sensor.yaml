---
# Text Sensor Configuration
text_sensor:

  # TFT-Version
  - platform: nextion
    nextion_id: haui_disp
    name: TFT-Version
    id: display_tft_version
    update_interval: never
    component_name: settings.tftVersion
    entity_category: diagnostic
    internal: false

  # Appdaemon-Availability
  - platform: nextion
    nextion_id: haui_disp
    name: TFT-Version
    id: display_ad_availability
    update_interval: 1s
    component_name: settings.adAvailable
    entity_category: diagnostic
    internal: false

  # Wifi informations
  - platform: wifi_info
    ip_address:
      name: IP
      disabled_by_default: true
      id: ip_address
    ssid:
      name: SSID
      disabled_by_default: true
    bssid:
      name: BSSID
      disabled_by_default: true

  # Server Status (AppDaemon App)
  - platform: mqtt_subscribe
    name: Server Status
    id: server_status
    topic: nspanel_haui/status
    entity_category: diagnostic
    internal: false
    on_value:
      - lambda: |-
          ESP_LOGD("haui", "HAUI Server Status %s", x.c_str());
          if (x == "online") {
            id(ad_availability) = true;
          } else {
            id(ad_availability) = false;
          }

  # Client Status (ESPHome)
  - platform: template
    name: Client Status
    id: client_status
    entity_category: diagnostic
    update_interval: never
    internal: false
